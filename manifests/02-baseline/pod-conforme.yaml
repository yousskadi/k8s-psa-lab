# manifests/02-baseline/pod-conforme.yaml
# Pod conforme au profil BASELINE
# Pas d'accès réseau/PID/IPC hôte, pas de privileged
# Ce pod PASSE le contrôle baseline ET génère des warnings restricted
---
apiVersion: v1
kind: Pod
metadata:
  name: app-web-conforme
  namespace: app-baseline
  labels:
    app: app-web
    psa-compliant: baseline
spec:
  containers:
    - name: nginx
      image: nginx:1.25-alpine
      ports:
        - containerPort: 8080
      resources:
        requests:
          memory: "64Mi"
          cpu: "50m"
        limits:
          memory: "128Mi"
          cpu: "100m"
      # Note: pas de securityContext explicite → warnings restricted attendus :
      # - allowPrivilegeEscalation non défini (défaut: true)
      # - capabilities non restreintes
      # - seccompProfile non défini
      # Ces warnings sont NORMAUX avec warn=restricted sur le namespace
